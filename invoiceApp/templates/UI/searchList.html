{% extends 'base.html' %}
{% load static %}
{% block title %}Search Page{% endblock %}
{% block content %}
<div class="col-xl-8 mx-auto">
	<div class="billing shadow m-2 bg-white p-0 h-100 m-4">
		{% if pageFlag == 'bank' %}
		<div class="billing-head p-4 d-flex justify-content-between  rounded-top">
			<h5 class="">Bank Detail</h5>
			<button class="btn btn-primary"><a class="btn btn-primary"  href="{% url 'invoiceApp:bankDetailAddUrl' %}?action=add">Add</a></button>
		</div>
		{% elif pageFlag == 'addresses' %}
		<div class="billing-head p-4 d-flex justify-content-between  rounded-top">
			<h5 class="">Address Details</h5>
			<button class="btn btn-primary"><a class="btn btn-primary"  href="{% url 'invoiceApp:addressAddUrl' %}?action=adds">Add</a></button>
		</div>
		{% elif pageFlag == 'office' %}
		<div class="billing-head p-4 d-flex justify-content-between  rounded-top">
			<h5 class="">Our Office Details</h5>
			<button class="btn btn-primary"><a class="btn btn-primary"  href="{% url 'invoiceApp:officeLocationsAddUrl' %}?action=add">Add</a></button>
		</div>
		{% elif pageFlag == 'client' %}
		<div class="billing-head p-4 d-flex justify-content-between  rounded-top">
			<h5 class="">Clients Detail</h5>
			<button class="btn btn-primary"><a class="btn btn-primary"  href="{% url 'invoiceApp:clientAddUrl' %}?action=add">Add</a></button>
		</div>
		{% elif pageFlag == 'product' %}
		<div class="billing-head p-4 d-flex justify-content-between  rounded-top">
			<h5 class="">Products And services Detail</h5>
			<button class="btn btn-primary"><a class="btn btn-primary"  href="{% url 'invoiceApp:addProductAndServicesUrl' %}?action=add">Add</a></button>
		</div>
		{% elif pageFlag == 'invoice' %}
		<div class="billing-head p-4 d-flex justify-content-between  rounded-top">
			<h5 class="">Invoice Detail</h5>
			<button class="btn btn-primary"><a class="btn btn-primary"  href="{% url 'invoiceApp:invoiceAddUrl' %}?action=add">Add</a></button>
		</div>
		{% elif pageFlag == 'billed' %}
		<div class="billing-head p-4 d-flex justify-content-between  rounded-top">
			<h5 class="">Bank Detail</h5>
			<button class="btn btn-primary"><a class="btn btn-primary"  href="#">Add</a></button>
		</div>
		{% endif %}

		<!-- Search Form -->
		{% if pageFlag == 'bank' %}
		<form class="form-row" method="GET" action="{% url 'invoiceApp:searchBarUrl' %}">
			<input type="hidden" name="requestFrom" value="{{request.get_full_path}}">
			<input type="hidden" name="model" value="our_bank_details">
			<div class="input-group mb-3">
				<input type="text" class="form-control" placeholder="Search Query" name="searchq" value="{% if request.GET.searchq %}{{request.GET.searchq}}{% endif %}" aria-label="Search" aria-describedby="search-button">
				<button class="btn btn-primary" type="submit" id="search-button">Search</button>
			</div>
		</form>
		{% elif pageFlag == 'addresses' %}
		<form class="form-row" method="GET" action="{% url 'invoiceApp:searchBarUrl' %}">
			<input type="hidden" name="requestFrom" value="{{request.get_full_path}}">
			<input type="hidden" name="model" value="address">
			<div class="input-group mb-3">
				<input type="text" class="form-control" placeholder="Search Query" name="searchq" value="{% if request.GET.searchq %}{{request.GET.searchq}}{% endif %}" aria-label="Search" aria-describedby="search-button">
				<button class="btn btn-primary" type="submit" id="search-button">Search</button>
			</div>
		</form>
		{% elif pageFlag == 'office' %}
			<form class="form-row" method="GET" action="{% url 'invoiceApp:searchBarUrl' %}">
			<input type="hidden" name="requestFrom" value="{{request.get_full_path}}">
			<input type="hidden" name="model" value="our_office_location">
			<div class="input-group mb-3">
				<input type="text" class="form-control" placeholder="Search Query" name="searchq" value="{% if request.GET.searchq %}{{request.GET.searchq}}{% endif %}" aria-label="Search" aria-describedby="search-button">
				<button class="btn btn-primary" type="submit" id="search-button">Search</button>
			</div>
		</form>
		{% elif pageFlag == 'client' %}
			<form class="form-row" method="GET" action="{% url 'invoiceApp:searchBarUrl' %}">
			<input type="hidden" name="requestFrom" value="{{request.get_full_path}}">
			<input type="hidden" name="model" value="client_profile">
			<div class="input-group mb-3">
				<input type="text" class="form-control" placeholder="Search Query" name="searchq" value="{% if request.GET.searchq %}{{request.GET.searchq}}{% endif %}" aria-label="Search" aria-describedby="search-button">
				<button class="btn btn-primary" type="submit" id="search-button">Search</button>
			</div>
		</form>
		{% elif pageFlag == 'product' %}
		<form class="form-row" method="GET" action="{% url 'invoiceApp:searchBarUrl' %}">
			<input type="hidden" name="requestFrom" value="{{request.get_full_path}}">
			<input type="hidden" name="model" value="product_and_services_profile">
			<div class="input-group mb-3">
				<input type="text" class="form-control" placeholder="Search Query" name="searchq" value="{% if request.GET.searchq %}{{request.GET.searchq}}{% endif %}" aria-label="Search" aria-describedby="search-button">
				<button class="btn btn-primary" type="submit" id="search-button">Search</button>
			</div>
		</form>
		{% elif pageFlag == 'invoice' %}
		<form class="form-row" method="GET" action="{% url 'invoiceApp:searchBarUrl' %}">
			<input type="hidden" name="requestFrom" value="{{request.get_full_path}}">
			<input type="hidden" name="model" value="invoice_details">
			<div class="input-group mb-3">
				<input type="text" class="form-control" placeholder="Search Query" name="searchq" value="{% if request.GET.searchq %}{{request.GET.searchq}}{% endif %}" aria-label="Search" aria-describedby="search-button">
				<button class="btn btn-primary" type="submit" id="search-button">Search</button>
			</div>
		</form>
		{% elif pageFlag == 'billed' %}
		<form class="form-row" method="GET" action="{% url 'invoiceApp:searchBarUrl' %}">
			<input type="hidden" name="requestFrom" value="{{request.get_full_path}}">
			<input type="hidden" name="model" value="invoice_details">
			<div class="input-group mb-3">
				<input type="text" class="form-control" placeholder="Search Query" name="searchq" value="{% if request.GET.searchq %}{{request.GET.searchq}}{% endif %}" aria-label="Search" aria-describedby="search-button">
				<button class="btn btn-primary" type="submit" id="search-button">Search</button>
			</div>
		</form>

		{% endif %}

		<!--  Title -->
		<div class="table-responsive p-4">
			<table class="table ">
				<thead>
					<tr>
						{% if pageFlag == 'bank' %}
						<th scope="col" class="text-muted">Account Name</th>
						<th scope="col" class="text-muted">Account Number</th>
						<th scope="col" class="text-muted">Bank Name</th>
						<th scope="col" class="text-muted">Branch</th>
						<th scope="col" class="text-muted">IFSC Code</th>
						<th scope="col" class="text-muted">Status</th>
						<th scope="col" class="text-muted">Action</th>
						

						{% elif pageFlag == 'addresses' %}
						<th scope="col" class="text-muted">address_line_1</th>
						<th scope="col" class="text-muted">address_line_2</th>
						<th scope="col" class="text-muted">city_name</th>
						<th scope="col" class="text-muted">pincode</th>
						<th scope="col" class="text-muted">Action</th>
						

						{% elif pageFlag == 'office' %}
						<th scope="col" class="text-muted">Company Name</th>
						<th scope="col" class="text-muted">GST IN</th>
						<th scope="col" class="text-muted">CIN</th>
						<th scope="col" class="text-muted">Pan No</th>
						<th scope="col" class="text-muted">Address</th>
						<th scope="col" class="text-muted">Email Id</th>
						<th scope="col" class="text-muted">Mobile Number</th>
						<th scope="col" class="text-muted">Website</th>
						<th scope="col" class="text-muted">bank Details</th>
						<th scope="col" class="text-muted">Terms And Condition</th>
						<th scope="col" class="text-muted">Action</th>
						

						{% elif pageFlag == 'client' %}
						<th shcope="col" class="text-muted">Client Name</th>
						<th shcope="col" class="text-muted">GST</th>
						<th shcope="col" class="text-muted">Address</th>
						<th shcope="col" class="text-muted">Email Id</th>
						<th shcope="col" class="text-muted">Mobile Number</th>
						<th scope="col" class="text-muted">Action</th>
						
						{% elif pageFlag == 'product' %}
						<th scope="col" class="text-muted">Tilte</th>
						<th scope="col" class="text-muted">Description</th>
						<th scope="col" class="text-muted">HSN</th>
						<th scope="col" class="text-muted">Action</th>
						
						{% elif pageFlag == 'invoice' %}
						<th scope="col" class="text-muted">client</th>
						<th scope="col" class="text-muted">Our Office Info</th>
						<th scope="col" class="text-muted">Invoice Number</th>
						<th scope="col" class="text-muted">Invoice Date</th>
						<th scope="col" class="text-muted">Due Date</th>
						<th scope="col" class="text-muted">Action</th>
						
						{% elif pageFlag == 'billed' %}
						<th scope="col" class="text-muted">Date</th>
						<th scope="col" class="text-muted">Invoice No.</th>												
						<th scope="col" class="text-muted">Client Name</th>
						<th scope="col" class="text-muted">Status</th>
						<th scope="col" class="text-muted">Action</th>
						{% endif %}

					</tr>
				</thead>
				<tbody  class="text-muted">
					{% if pageFlag == 'bank' %}

					{% for bankdetail in searchObjs %}
					<tr>
						<td>{% if bankdetail.account_name %}{{bankdetail.account_name}}{% else %}-{% endif %}</td>
						<td>{% if bankdetail.account_number %}{{bankdetail.account_number}}{% else %}-{% endif %}</td>
						<td>{% if bankdetail.bank_name %}{{bankdetail.bank_name}}{% else %}-{% endif %}</td>
						<td>{% if bankdetail.branch %}{{bankdetail.branch}}{% else %}-{% endif %}</td>
						<td>{% if bankdetail.IFSC_code %}{{bankdetail.IFSC_code}}{% else %}-{% endif %}</td>
						<td>{% if bankdetail.status %}{{bankdetail.status}}{% else %}-{% endif %}</td>
						<td><a href="{% url 'invoiceApp:bankDetailEditUrl' bankdetail.id %}?action=view">View</a>/<a href="{% url 'invoiceApp:bankDetailEditUrl' bankdetail.id %}?action=edit">Edit</a>/<a href="{% url 'invoiceApp:deleteUrl' %}?action=delete&model=our_bank_details&dataID={{bankdetail.pk}}&next={{request.get_full_path}}">Delete</a></td>
					</tr>
					{% endfor %}
			
					{% elif pageFlag == 'addresses' %}

					{% for detail in searchObjs %}
					<tr>
						<td >{% if detail.address_line_1 %}{{detail.address_line_1}}{% else %}-{% endif %}</td>
						<td >{% if detail.address_line_2 %}{{detail.address_line_2}}{% else %}-{% endif %}</td>
						<td >{% if detail.city_name %}{{detail.city_name}}{% else %}-{% endif %}</td>
						<td >{% if detail.pincode %}{{detail.pincode}}{% else %}-{% endif %}</td>
						<td ><a href="{% url 'invoiceApp:addressEditUrl' detail.id %}?action=view">View</a>/<a href="{% url 'invoiceApp:addressEditUrl' detail.id %}?action=edit">Edit</a>/<a href="{% url 'invoiceApp:deleteUrl' %}?action=delete&model=address&dataID={{detail.id}}&next={{request.get_full_path}}">Delete</a></td>
					</tr>
					{% endfor %}
	
					{% elif pageFlag == 'office' %}

					{% for office in searchObjs %}
						<td >{% if office.company_name %}{{office.company_name}}{% else %}-{% endif %}</td>
						<td >{% if office.GST_IN %}{{office.GST_IN}}{% else %}-{% endif %}</td>
						<td >{% if office.CIN %}{{office.CIN}}{% else %}-{% endif %}</td>
						<td >{% if office.Pan_no %}{{office.Pan_no}}{% else %}-{% endif %}</td>
						<td >{% if office.address %}{{office.address}}{% else %}-{% endif %}</td>
						<td >{% if office.email_id %}{{office.email_id}}{% else %}-{% endif %}</td>
						<td >{% if office.mobile_number %}{{office.mobile_number}}{% else %}-{% endif %}</td>
						<td >{% if office.website %}{{office.website}}{% else %}-{% endif %}</td>
						<td >{% if office.bank_details %}{{office.bank_details}}{% else %}-{% endif %}</td>
						<td >{% if office.terms_and_condition %}{{office.terms_and_condition|safe}}{% else %}-{% endif %}</td>
						<!-- <td >{% if office.office_addresss %}{{office.office_addresss}}{% else %}-{% endif %}</td> -->
						<td ><a href="{% url 'invoiceApp:officeLocationsEditUrl' office.id %}?action=view">View</a>/<a href="{% url 'invoiceApp:officeLocationsEditUrl' office.id %}?action=edit">Edit</a>/<a href="{% url 'invoiceApp:deleteUrl' %}?action=delete&model=our_office_location&dataID={{office.pk}}&next={{request.get_full_path}}">Delete</a></td>
					{% endfor %}

					{% elif pageFlag == 'office' %}

					{% for client in searchObjs %}
						<td >{% if client.client_name %}{{client.client_name}}{% else %}-{% endif %}</td>
						<td >{% if client.GST %}{{client.GST}}{% else %}-{% endif %}</td>
						<td >{% if client.address %}{{client.address}}{% else %}-{% endif %}</td>
						<td >{% if client.email_id %}{{client.email_id}}{% else %}-{% endif %}</td>
						<td >{% if client.mobile_number %}{{client.mobile_number}}{% else %}-{% endif %}</td>
						<td ><a href="{% url 'invoiceApp:clientEditUrl' client.id %}?action=view">View</a>/<a href="{% url 'invoiceApp:clientEditUrl' client.id %}?action=edit">Edit</a>/<a href="{% url 'invoiceApp:deleteUrl' %}?action=delete&model=client_profile&dataID={{client.pk}}&next={{request.get_full_path}}">Delete</a></td>
					{% endfor %}

					{% elif pageFlag == 'product' %}

					{% for items in searchObjs %}
						<td >{% if items.title  %}{{items.title}}{% endif %}</td>
						<td >{% if items.description %}{{items.description}}{% else %}-{% endif %}</td>
						<td >{% if items.HSN %}{{items.HSN}}{% else %}-{% endif %}</td>
						<td ><a href="{% url 'invoiceApp:editViewProductAndServicesUrl' items.id %}?action=view">View</a>/<a href="{% url 'invoiceApp:editViewProductAndServicesUrl' items.id %}?action=edit">Edit</a>/<a href="{% url 'invoiceApp:deleteUrl' %}?action=delete&model=product_and_services_profile&dataID={{items.pk}}&next={{request.get_full_path}}">Delete</a></td>
					{% endfor %}
					
					{% elif pageFlag == 'invoice' %}

					{% for key in searchObjs %}
					<td >{% if key.client %}{{key.client}}{% else %}-{% endif %}</td>
						<td >{% if key.our_office_info %}{{key.our_office_info}}{% else %}-{% endif %}</td>
						<td >{% if key.invoice_number %}{{key.invoice_number}}{% else %}-{% endif %}</td>
						<td >{% if key.invoice_date %}{{key.invoice_date}}{% else %}-{% endif %}</td>
						<td >{% if key.due_date %}{{key.due_date}}{% else %}-{% endif %}</td>
						<td ><a href="{% url 'invoiceApp:invoiceEditUrl' key.pk %}?action=view">View</a>/<a href="{% url 'invoiceApp:invoiceEditUrl' key.pk %}?action=edit">Edit</a>/<a href="{% url 'invoiceApp:billedProductAddUrl' %}?invoice={{key.pk}}&action=add">Add Products</a>/<a href="{% url 'invoiceApp:deleteUrl' %}?action=delete&model=invoice_details&dataID={{key.pk}}&next={{request.get_full_path}}">Delete</a></td>
					{% endfor %}

					{% elif pageFlag == 'billed' %}

					{% for details in searchObjs %}
						<td >{% if details.due_date %}{{details.due_date}}{% else %}-{% endif %}</td>
						<td >{% if details.invoice_number %}{{details.invoice_number}}{% else %}-{% endif %}</td>
						<td >{% if details.client %}{{details.client}}{% else %}-{% endif %}</td>
						<td >{% if details.status %}{{details.status}}{% else %}-{% endif %}</td>
						<td ><a href="{% url 'invoiceApp:taxInvoiceUrl' details.id %}">View</a>/<a href="{% url 'invoiceApp:deleteUrl' %}?action=delete&model=invoice_details&dataID={{details.pk}}&next={{request.get_full_path}}">Delete</a></td>
					{% endfor %}

					{% endif %}
				</tbody>
			</table>
		</div>
	</div> 
</div>

{% endblock %}